# 跨域登录与图片处理服务集成实施计划

## 一、实施目标

按照简化方案，实现 MeeWoo 项目使用 www.imghlp.com 统一登录系统并调用 ImgHLP 图片处理服务的功能，同时保留现有项目结构不变。

## 二、实施步骤

### 1. 创建登录状态管理工具

**文件**：`docs/assets/js/utils/auth-utils.js`

**功能**：
- 处理登录状态管理
- 存储和管理 Token
- 处理登录回调
- 重定向到 ImgHLP 登录页

### 2. 创建图片处理 API 调用工具

**文件**：`docs/assets/js/utils/image-api.js`

**功能**：
- 调用 ImgHLP 图片处理服务
- 处理 API 请求和响应
- 管理认证 Token
- 提供图片处理方法

### 3. 修改首页逻辑

**文件**：`docs/index.html`

**修改内容**：
- 更新登录按钮链接，指向 ImgHLP 登录页
- 添加登录状态检查和处理
- 集成 auth-utils.js 和 image-api.js
- 添加登录状态显示
- 添加图片处理示例按钮

### 4. 确保样式和用户体验

**优化**：
- 保持现有按钮样式
- 确保登录流程流畅
- 添加适当的错误处理
- 优化用户体验

## 三、技术要点

1. **跨域重定向**：使用标准 HTTP 重定向到 ImgHLP 登录页
2. **Token 管理**：使用 localStorage 存储 Token 和用户信息
3. **API 调用**：使用 Fetch API 调用 ImgHLP 图片处理服务
4. **状态管理**：在 Vue 实例中管理登录状态
5. **错误处理**：添加适当的错误提示和处理机制

## 四、预期效果

- ✅ 点击登录按钮重定向到 ImgHLP 登录页
- ✅ 登录后自动返回原页面并保持登录状态
- ✅ 登录状态在页面刷新后保持
- ✅ 登录后可调用图片处理 API
- ✅ 未登录时提示并跳转到登录页
- ✅ 保持现有项目结构不变
- ✅ 最小化代码改动

## 五、实施顺序

1. 创建 `auth-utils.js`
2. 创建 `image-api.js`
3. 修改 `index.html`
4. 测试登录流程
5. 测试图片处理功能

此计划将严格按照简化方案执行，确保功能完整且代码简洁。