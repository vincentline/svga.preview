# AI协议中心 (AI Protocol Hub)

## 项目简介

AI协议中心是一个为了与AI进行更高效交互而设计的协议体系，旨在提高命令任务正确运行率，规范交互流程，实现标准化的AI操作管理。

## 目录结构

```
ai_protocol_hub/
├── core_rules/          # 核心规则和协议文档
├── scripts/             # 规则相关脚本
├── skill_specs/         # 技能拓展规范
└── README.md            # 本说明文档
```

## 核心组件

### 1. 操作日志
**功能**：记录所有AI执行的操作和命令
**作用**：
- 追踪操作历史
- 排查问题根源
- 分析操作模式
- 优化交互流程

**核心文件**：
- `UPDATE_LOG.md` - 统一的更新日志文件，记录所有重要文件和文件夹的更新

**UPDATE_LOG.md 文档结构**：
- 职责：记录项目中所有重要文件和文件夹的更新
- 更新日志规则：包括记录范围、忽略规则、验证要求等
- 记录格式：时间戳、操作类型、路径信息、更新简述
- 更新记录：具体的更新历史

**记录规则**：
- 记录所有重要文件和文件夹的新增、删除、修改、重命名、移动等操作
- 不记录.gitignore过滤的文件和文件夹
- 不记录本文件（UPDATE_LOG.md）自身的更新
- 更新记录默认保留60天

**记录格式**：
```
时间戳 【操作类型】 : 路径信息 - 更新简述
```

**操作类型**：
- 新增文件、新增文件夹、删除文件、删除文件夹
- 修改文件、重命名文件、重命名文件夹、移动文件、移动文件夹

### 2. 核心规则 (core_rules/)
**功能**：存放所有规则、协议文档

#### 2.1 TASK_VALIDATION_RULES.md
**文档结构**：
- 核心原则：执行规则说明
- 不合规任务类型：包括描述不清、不可行、风险问题、工作量过大等类型及处理方式（表格形式）

#### 2.2 INDEX.md
**文档结构**：
- 目录结构：项目整体目录树
- 功能模块索引：各功能模块的详细信息
- 静态资源：通用资源和模块专属资源
- 配置文件：项目配置文件列表
- 快速导航：功能页面和开发相关链接
- 注意事项：路径引用、资源管理等

#### 2.3 CODE_STYLE.md
**文档结构**：
- 文档索引：各章节导航
- 缩进规范：缩进方式和一致性要求
- 命名规范：变量、函数、常量、组件/模块命名规则
- 代码组织规范：文件架构和代码结构要求
- 项目名命名规范：项目级命名空间使用
- 代码注释规范：基本要求、函数/方法、类/模块、文件、特殊代码注释
- 代码生成改动规范：代码修改和新功能实现规范

#### 2.4 DEVELOPMENT_FLOW.md
**文档结构**：
- 触发方式：收尾工作的触发条件
- 收尾流程：代码精简与优化、删除调试代码、代码规范检查、更新文档

#### 2.5 INSTRUCTIONS.md
**文档结构**：
- 中文指令格式：特殊注释格式 `【指令名称】`
- 指令列表：包括【测试】、【收尾】等
- 指令执行流程：格式要求、执行顺序、返回执行结果等

### 3. 脚本 (scripts/)
**功能**：存放所有规则涉及的脚本
**示例脚本**：
- `GET_TIME.ps1` - 获取北京时间
- 其他功能脚本

### 4. 技能规范 (skill_specs/)
**功能**：拓展其他技能
**作用**：
- 定义新技能的接口规范
- 管理技能的调用方式
- 标准化技能的实现方法

**技能规范文档结构**：
- 技能名称
- 技能描述
- 接口定义
- 参数说明
- 返回值规范
- 错误处理
- 实现示例
- 测试方法

## 配置要求

### 用户规则配置

在trae设置中的用户规则 `user_rules.md` 里配置以下规则：

#### 时间戳生成规则
```markdown
3. 时间戳生成规则：
   - 获取方式：执行`ai_protocol_hub/scripts/GET_TIME.ps1`获取当前北京时间
   - 格式要求：`[YYYY-MM-DD HH:MM:SS]`（北京时间）
   - 错误处理：网络不可用时可使用本地时间备选
   - 禁止手动输入时间戳
```

#### 任务执行规则
```markdown
1. 用户任务分析前必须先执行任务验证，任务验证规则查阅`ai_protocol_hub/core_rules/TASK_VALIDATION_RULES.md`
2. 项目结构和功能模块查阅`README.md`
3. 定位文件/功能查阅`INDEX.md` ，索引文件找不到时再使用其他方式搜索
4. 生成代码前必须查阅`ai_protocol_hub/core_rules/CODE_STYLE.md`，确保符合项目的代码规范
```

#### 指令规则
```markdown
1. 用户描述中包含“【】”，为指令操作，执行指令文件`ai_protocol_hub/core_rules/INSTRUCTIONS.md`对应的操作
```

## 工作流程

### 1. 指令执行流程
1. 用户发送指令（格式：`【指令名称 参数1 参数2 ...】`）
2. AI识别指令并查阅 `core_rules/INSTRUCTIONS.md`
3. 执行任务验证（查阅 `core_rules/TASK_VALIDATION_RULES.md`）
4. 执行指令对应的操作
5. 记录操作日志到 `UPDATE_LOG.md`
6. 返回执行结果

### 2. 代码生成流程
1. 查阅 `core_rules/CODE_STYLE.md` 了解代码规范
2. 执行代码生成
3. 验证代码是否符合规范
4. 记录操作日志到 `UPDATE_LOG.md`

### 3. 问题处理流程
1. 遇到问题时查阅相关规则文档
2. 无法解决时向用户沟通求助
3. 记录问题和解决方案到 `UPDATE_LOG.md`

## 优势

1. **标准化**：统一的规则和协议体系
2. **可追踪**：完整的操作日志记录
3. **高效率**：规范的指令执行流程
4. **可扩展**：模块化的技能拓展机制
5. **易维护**：清晰的目录结构和文档

## 其他项目参考

其他项目可以参考以下步骤搭建自己的AI协议中心：

1. **复制目录结构**：创建相同的目录结构
2. **配置用户规则**：按照上述配置要求修改用户规则
3. **定制规则文档**：根据项目需求修改核心规则
4. **添加脚本**：根据需要添加功能脚本
5. **拓展技能**：定义项目特定的技能规范

### 可直接复用的文件

以下文件具有通用性，可直接复用到其他项目中：

1. **`core_rules/TASK_VALIDATION_RULES.md`** - 任务验证规则，适用于各种项目的任务验证流程
2. **`core_rules/UI-DESIGN-SYSTEM.md`** - UI设计系统规范，提供完整的设计令牌和组件规范
3. **`core_rules/DEVELOPMENT_FLOW.md`** - 开发流程规范，包含标准的收尾工作流程

### 可修改后复用的文件

以下文件在修改项目名后也可以直接复用：

1. **`core_rules/CODE_STYLE.md`** - 代码规范文档，修改文档中的项目名（如 `ImgHLP`）后即可复用
2. **`core_rules/INSTRUCTIONS.md`** - 指令规则说明，修改文档中的项目名和相关路径后即可复用

## 注意事项

1. 保持规则文档的更新和一致性
2. 定期清理和归档操作日志
3. 确保脚本的安全性和可靠性
4. 遵循代码规范和开发流程

## 版本管理

- **v1.0.0**：初始版本
- **v1.1.0**：添加技能拓展功能
- **v1.2.0**：优化日志记录机制
- **v1.3.0**：添加文件复用说明，明确可直接复用和修改后复用的文件
- **v1.3.1**：去掉UPDATE_LOG.md直接复用文件列表

---

**© 2026 AI协议中心**