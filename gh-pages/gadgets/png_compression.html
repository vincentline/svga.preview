<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PNG 压缩工具</title>

    <!-- 引入设计系统样式 -->
    <link rel="stylesheet" href="../assets/css/styles.css">

    <!-- 引入自定义样式 -->
    <link rel="stylesheet" href="png_compression.css">
</head>

<body>
    <div id="app">
        <!-- 顶部区域 -->
        <header class="header">
            <div class="header-container">
                <div class="header-left">
                    <a href="../index.html?type=internal" class="logo-link" title="回到主页">
                    <img class="logo-img" src="../assets/img/logo.png" alt="MeeWoo Logo" width="24" height="24">
                </a>
                    <h1 class="header-title">PNG 压缩工具</h1>
                </div>
                <div class="header-actions">
                    <button class="theme-toggle" title="切换主题">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M12 3V5M12 19V21M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M3 12H5M19 12H21M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17Z"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- 主要内容区 -->
        <main class="main-content">
            <!-- 拖拽区域 -->
            <section class="drag-area" id="dragArea">
                <div class="drag-area-content">
                    <svg class="drag-icon" width="64" height="64" viewBox="0 0 24 24" fill="none">
                        <path d="M21 15V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    <h2 class="drag-title">拖入 PNG 图片进行压缩</h2>
                    <p class="drag-description">支持批量拖入多张 PNG 图片，自动进行压缩</p>
                    <p class="drag-hint">或将图片文件拖到此处</p>
                </div>
            </section>

            <!-- 图片列表区域 -->
            <section class="image-list-section" id="imageListSection" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">已添加的图片</h2>
                    <div class="section-header-actions">
                        <div class="compression-slider-container">
                            <label for="compressionQuality" class="compression-label">压缩级别:</label>
                            <input type="range" id="compressionQuality" class="compression-slider" min="10" max="100"
                                value="80">
                            <span id="compressionValue" class="compression-value">80</span>
                        </div>
                        <button class="btn-secondary btn-clear" id="clearBtn">清空列表</button>
                    </div>
                </div>

                <!-- 图片列表 -->
                <div class="image-list" id="imageList"></div>

                <!-- 操作按钮区 -->
                <div class="action-buttons">
                    <button class="btn-large-primary" id="compressBtn">开始压缩</button>
                </div>

                <!-- 整体进度显示 -->
                <div class="overall-progress" id="overallProgress" style="display: none;">
                    <div class="overall-progress-text">整体压缩进度</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="overallProgressFill" style="width: 0%"></div>
                    </div>
                    <div class="overall-progress-stats" id="overallProgressStats">0/0 图片</div>
                </div>

                <!-- 下载按钮区 -->
                <div class="download-section" id="downloadSection" style="display: none;">
                    <div class="download-buttons">
                        <button class="btn-large-secondary" id="downloadAllBtn">打包下载</button>
                    </div>
                    <div class="section-header">
                        <h2 class="section-title">压缩完成</h2>
                    </div>
                    <div class="download-stats" id="downloadStats"></div>

                </div>
            </section>
            <!-- 底部区域 -->
            <footer class="footer">
                <div class="footer-content">
                    <p class="footer-text">© 2026 MeeWoo. All rights reserved.</p>
                    <a href="#" class="footer-link">帮助文档</a>
                </div>
            </footer>
        </main>


    </div>

    <!-- 引入必要的 JavaScript 库 -->
    <script src="../assets/js/lib/pako.min.js"></script>
    <script src="../assets/js/lib/jszip.min.js"></script>
    <script src="../assets/js/service/image-compression-service.js"></script>

    <!-- 引入自定义 JavaScript -->
    <script src="png_compression.js"></script>
</body>

</html>