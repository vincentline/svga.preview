!function(i){"use strict";i.MeeWoo=i.MeeWoo||{},i.MeeWoo.Components=i.MeeWoo.Components||{},i.MeeWoo.Components.FramesPanel={name:"FramesPanel",template:"#tpl-frames-panel",props:{visible:{type:Boolean,default:!1},sourceInfo:{type:Object,default:()=>({})},initialConfig:{type:Object,default:()=>({})},isExporting:{type:Boolean,default:!1},exportProgress:{type:Number,default:0},exportStage:{type:String,default:""},exportMessage:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:()=>({config:{width:0,height:0,fps:24,quality:80,transparent:!1},aspectRatio:1}),watch:{visible(i){i&&this.initConfig()},initialConfig:{handler(i){this.visible&&this.initConfig()},deep:!0}},methods:{initConfig(){this.config={width:this.initialConfig.width||this.sourceInfo.width||0,height:this.initialConfig.height||this.sourceInfo.height||0,fps:this.initialConfig.fps||this.sourceInfo.fps||24,quality:this.initialConfig.quality||80,transparent:this.initialConfig.transparent||!1},this.config.width>0&&this.config.height>0&&(this.aspectRatio=this.config.width/this.config.height)},onWidthChange(){this.config.width=Math.max(1,Math.min(3e3,parseInt(this.config.width)||0)),this.config.width>0&&(this.config.height=Math.round(this.config.width/this.aspectRatio),this.config.height=Math.max(1,Math.min(3e3,this.config.height)),this.$emit("config-change",this.config))},onHeightChange(){this.config.height=Math.max(1,Math.min(3e3,parseInt(this.config.height)||0)),this.config.height>0&&(this.config.width=Math.round(this.config.height*this.aspectRatio),this.config.width=Math.max(1,Math.min(3e3,this.config.width)),this.$emit("config-change",this.config))},onFpsChange(){this.config.fps=Math.max(1,Math.min(60,parseInt(this.config.fps)||0)),this.$emit("config-change",this.config)},onQualityChange(){this.config.quality=Math.max(10,Math.min(100,parseInt(this.config.quality)||0)),this.$emit("config-change",this.config)},startExport(){this.$emit("export",this.config)},close(){this.$emit("close")}},mounted(){this.visible&&this.initConfig()}}}(window);