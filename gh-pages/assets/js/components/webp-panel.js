!function(i){"use strict";i.MeeWoo=i.MeeWoo||{},i.MeeWoo.Components=i.MeeWoo.Components||{},i.MeeWoo.Components.WebpPanel={name:"WebpPanel",template:"#tpl-webp-panel",props:{visible:{type:Boolean,default:!1},sourceInfo:{type:Object,default:()=>({})},initialConfig:{type:Object,default:()=>({})},isExporting:{type:Boolean,default:!1},exportProgress:{type:Number,default:0},exportMessage:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:()=>({config:{width:0,height:0,fps:24},aspectRatio:1}),watch:{visible(i){console.log("[调试] webp-panel visible属性变化:",i),i&&this.initConfig()},initialConfig:{handler(i){this.visible&&this.initConfig()},deep:!0}},methods:{initConfig(){this.config={width:this.initialConfig.width||this.sourceInfo.width||0,height:this.initialConfig.height||this.sourceInfo.height||0,fps:this.initialConfig.fps||this.sourceInfo.fps||24},this.config.width>0&&this.config.height>0&&(this.aspectRatio=this.config.width/this.config.height)},onWidthChange(){this.config.width=Math.max(1,Math.min(3e3,parseInt(this.config.width)||0)),this.config.width>0&&(this.config.height=Math.round(this.config.width/this.aspectRatio),this.config.height=Math.max(1,Math.min(3e3,this.config.height)),this.$emit("config-change",this.config))},onHeightChange(){this.config.height=Math.max(1,Math.min(3e3,parseInt(this.config.height)||0)),this.config.height>0&&(this.config.width=Math.round(this.config.height*this.aspectRatio),this.config.width=Math.max(1,Math.min(3e3,this.config.width)),this.$emit("config-change",this.config))},onFpsChange(){this.config.fps=Math.max(1,Math.min(60,parseInt(this.config.fps)||0)),this.$emit("config-change",this.config)},startExport(){this.$emit("export",this.config)},close(){this.$emit("close")}},mounted(){console.log("[调试] webp-panel 组件已挂载，初始visible:",this.visible),console.log("[调试] webp-panel 组件DOM元素:",this.$el),this.visible&&this.initConfig()}}}(window);