!function(o){"use strict";window.MeeWoo=window.MeeWoo||{},window.MeeWoo.Services=window.MeeWoo.Services||{};class e{constructor(){this.workerPool=null,this.isInitialized=!1,this.workerPath="assets/js/service/svga/svga-pixel-worker.js"}async init(){if(!this.isInitialized)try{window.MeeWoo.Services.WorkerPool?(this.workerPool=window.MeeWoo.Services.WorkerPool,console.log("Using existing WorkerPool instance")):await this._loadWorkerPool(),this.isInitialized=!0,console.log("SvgaPixelService initialized successfully")}catch(o){throw console.error("Failed to initialize SvgaPixelService:",o),o}}async _loadWorkerPool(){return new Promise((o,e)=>{const i=document.createElement("script");i.src="assets/js/service/dual-channel/worker-pool.js",i.onload=()=>{window.MeeWoo.Services.WorkerPool?(this.workerPool=window.MeeWoo.Services.WorkerPool,o()):e(new Error("WorkerPool not found after loading"))},i.onerror=()=>{e(new Error("Failed to load worker-pool.js"))},document.head.appendChild(i)})}async processFrame(o,e,i,r,s,t,n={}){return await this.init(),this.workerPool.submitTask("processFrame",{frameData:o,alphaPosition:e,width:i,height:r,scaledWidth:s,scaledHeight:t},{onProgress:n.onProgress,priority:n.priority||5})}async processFrames(o,e,i,r,s,t,n={}){return await this.init(),this.workerPool.submitTask("processFrames",{frames:o,alphaPosition:e,width:i,height:r,scaledWidth:s,scaledHeight:t},{onProgress:n.onProgress,priority:n.priority||5})}async clearMemory(){return await this.init(),this.workerPool.submitTask("clearMemory",{})}getStatus(){return this.workerPool?{initialized:this.isInitialized,workerPool:this.workerPool.getStatus()}:{initialized:this.isInitialized,workerPool:null}}getStats(){return this.workerPool?this.workerPool.getStats():null}resetStats(){this.workerPool&&this.workerPool.resetStats()}}const i=new e;window.MeeWoo.Services.SvgaPixelService=i,"undefined"!=typeof module&&module.exports?module.exports=e:o.SvgaPixelService=e}("undefined"!=typeof window?window:this);