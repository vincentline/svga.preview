!function(e){"use strict";e.MeeWoo=e.MeeWoo||{},e.MeeWoo.Controllers=e.MeeWoo.Controllers||{};var t=function(e){this.options=e||{},this.container=this.options.container||document.body,this.onDrop=this.options.onDrop||function(){},this.onHoverChange=this.options.onHoverChange||function(){},this.dragCounter=0,this._handleDragEnter=this.handleDragEnter.bind(this),this._handleDragLeave=this.handleDragLeave.bind(this),this._handleDragOver=this.handleDragOver.bind(this),this._handleDrop=this.handleDrop.bind(this),this.init()};t.prototype={init:function(){"true"===this.container.dataset.hasInputController&&(console.warn("InputController: Container already has an input controller. Overwriting..."),window.MeeWoo_GlobalInputController&&window.MeeWoo_GlobalInputController.destroy&&window.MeeWoo_GlobalInputController.destroy()),this.container.addEventListener("dragenter",this._handleDragEnter),this.container.addEventListener("dragleave",this._handleDragLeave),this.container.addEventListener("dragover",this._handleDragOver),this.container.addEventListener("drop",this._handleDrop),this.container.dataset.hasInputController="true"},handleDragEnter:function(e){this.dragCounter++,1===this.dragCounter&&this.onHoverChange(!0)},handleDragLeave:function(e){this.dragCounter--,0===this.dragCounter&&this.onHoverChange(!1)},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragCounter=0,this.onHoverChange(!1);var t=e.dataTransfer&&e.dataTransfer.files;t&&t.length>0&&this.onDrop(t)},destroy:function(){this.container.removeEventListener("dragenter",this._handleDragEnter),this.container.removeEventListener("dragleave",this._handleDragLeave),this.container.removeEventListener("dragover",this._handleDragOver),this.container.removeEventListener("drop",this._handleDrop),this.container.removeAttribute("data-has-input-controller"),delete this.container.dataset.hasInputController}},e.MeeWoo=e.MeeWoo||{},e.MeeWoo.Controllers=e.MeeWoo.Controllers||{},e.MeeWoo.Controllers.InputController=t}("undefined"!=typeof window?window:this);