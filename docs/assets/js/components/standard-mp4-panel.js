!function(i){"use strict";i.MeeWoo=i.MeeWoo||{},i.MeeWoo.Components=i.MeeWoo.Components||{},i.MeeWoo.Components.StandardMp4Panel={name:"StandardMp4Panel",template:"#tpl-standard-mp4-panel",props:{visible:{type:Boolean,default:!1},sourceInfo:{type:Object,default:function(){return{}}},initialConfig:{type:Object,default:function(){return null}},isConverting:{type:Boolean,default:!1},progress:{type:Number,default:0},message:{type:String,default:""},disabled:{type:Boolean,default:!1},currentModule:{type:String,default:"mp4"}},mounted:function(){console.log("StandardMp4Panel组件已挂载",this.visible)},watch:{visible:function(i){console.log("StandardMp4Panel visible变化:",i)}},data:function(){return{config:{width:300,height:300,fps:30}}},watch:{visible:function(i){i&&this.initParams()}},methods:{initParams:function(){var i=this.sourceInfo;if(this.initialConfig&&this.initialConfig.width>0){if(this.config.width=this.initialConfig.width,i.width&&i.height){var t=i.height/i.width;this.config.height=Math.floor(this.config.width*t)}}else this.config.width=i.width||300,this.config.height=i.height||300;this.initialConfig&&this.initialConfig.fps?this.config.fps=this.initialConfig.fps:this.config.fps=Math.min(60,Math.max(1,i.fps||30))},close:function(){if(this.isConverting){if(!confirm("正在转换中，确定要取消吗？"))return;this.$emit("cancel")}this.$emit("close")},onWidthChange:function(){var i=this.sourceInfo;if(i.width&&i.height){var t=i.height/i.width,n=Math.max(1,Math.min(3e3,parseInt(this.config.width)||0)),e=Math.floor(n*t);this.config.width=n,this.config.height=e}},onHeightChange:function(){var i=this.sourceInfo;if(i.width&&i.height){var t=i.width/i.height,n=Math.max(1,Math.min(3e3,parseInt(this.config.height)||0)),e=Math.floor(n*t);this.config.width=e,this.config.height=n}},startConvert:function(){this.$emit("convert",this.config)}}}}(window);