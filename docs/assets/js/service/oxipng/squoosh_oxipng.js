let wasm;const cachedTextDecoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return null!==cachedUint8Memory0&&0!==cachedUint8Memory0.byteLength||(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(e,n){return e>>>=0,cachedTextDecoder.decode(getUint8Memory0().subarray(e,e+n))}let WASM_VECTOR_LEN=0;function passArray8ToWasm0(e,n){const t=n(1*e.length,1)>>>0;return getUint8Memory0().set(e,t/1),WASM_VECTOR_LEN=e.length,t}let cachedInt32Memory0=null;function getInt32Memory0(){return null!==cachedInt32Memory0&&0!==cachedInt32Memory0.byteLength||(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}function getArrayU8FromWasm0(e,n){return e>>>=0,getUint8Memory0().subarray(e/1,e/1+n)}export function optimise(e,n,t,o){try{const s=wasm.__wbindgen_add_to_stack_pointer(-16),c=passArray8ToWasm0(e,wasm.__wbindgen_malloc),_=WASM_VECTOR_LEN;wasm.optimise(s,c,_,n,t,o);var i=getInt32Memory0()[s/4+0],r=getInt32Memory0()[s/4+1],a=getArrayU8FromWasm0(i,r).slice();return wasm.__wbindgen_free(i,1*r,1),a}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}export function optimise_raw(e,n,t,o,i,r){try{const _=wasm.__wbindgen_add_to_stack_pointer(-16),m=passArray8ToWasm0(e,wasm.__wbindgen_malloc),l=WASM_VECTOR_LEN;wasm.optimise_raw(_,m,l,n,t,o,i,r);var a=getInt32Memory0()[_/4+0],s=getInt32Memory0()[_/4+1],c=getArrayU8FromWasm0(a,s).slice();return wasm.__wbindgen_free(a,1*s,1),c}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}async function __wbg_load(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function __wbg_get_imports(){const e={wbg:{}};return e.wbg.__wbindgen_throw=function(e,n){throw new Error(getStringFromWasm0(e,n))},e}function __wbg_init_memory(e,n){}function __wbg_finalize_init(e,n){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=n,cachedInt32Memory0=null,cachedUint8Memory0=null,wasm}function initSync(e){if(void 0!==wasm)return wasm;const n=__wbg_get_imports();__wbg_init_memory(n),e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));return __wbg_finalize_init(new WebAssembly.Instance(e,n),e)}async function __wbg_init(e){if(void 0!==wasm)return wasm;void 0===e&&(e="squoosh_oxipng_bg.wasm");const n=__wbg_get_imports();__wbg_init_memory(n),("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:o}=await __wbg_load(await e,n);return __wbg_finalize_init(t,o)}export{initSync};export default __wbg_init;const isServiceWorker=void 0!==globalThis.ServiceWorkerGlobalScope,isRunningInCloudFlareWorkers=isServiceWorker&&"undefined"!=typeof self&&globalThis.caches&&void 0!==globalThis.caches.default,isRunningInNode="object"==typeof process&&process.release&&"node"===process.release.name;(isRunningInCloudFlareWorkers||isRunningInNode)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,n,t){this.data=e,this.width=n,this.height=t}}),"undefined"!=typeof self&&void 0===self.location&&(self.location={href:""}));