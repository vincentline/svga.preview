# MeeWoo - SVGA、双通道MP4、Lottie 动画在线预览与转换工具

**MeeWoo** 是一个面向设计师与前端工程师的 **在线动画预览与格式转换工具**，支持 SVGA、双通道 MP4（YYEVA 风格）、Lottie 多种动画格式，并提供素材替换与导出能力。

---

## 在线地址

- 页面入口：<https://www.meewoo.me/>

（打开即用，无需安装或下载依赖。）

---

## 功能概览

### 1. SVGA 模块

- **在线预览**：拖入 SVGA 文件即可实时预览动画效果
- **播放控制**：
  - 播放 / 暂停
  - 进度条拖拽、当前帧 / 总帧数显示
  - 循环播放
- **素材替换**：
  - 右侧「素材图替换」侧边栏
  - 展示所有图片素材缩略图与 imageKey
  - 支持搜索、复制名称、单个素材替换
  - 替换后可实时预览并导出新的 SVGA 文件
- **导出 GIF**：
  - 基于 `gif.js` 与 Web Worker，在浏览器端完成编码
  - 显示导出进度，支持取消
  - 支持背景色处理，避免黑底
- **转换为双通道 MP4**：
  - 将 SVGA 按帧渲染到 Canvas
  - 合成「彩色 + Alpha 灰度」双通道画面
  - 通过 `ffmpeg.wasm` 编码为 MP4 文件

---

### 2. 双通道 MP4（YYEVA 风格）模块

- **文件加载与预览**：
  - 支持左右并排或上下并排的双通道 MP4 视频
  - 自动探测 Alpha 通道位置（左/右 或 上/下）
  - 合成带透明通道的最终画面
- **播放控制**：
  - 播放 / 暂停、进度条拖拽
  - 帧数与时间显示
  - 循环播放
- **音频支持**：
  - 保留并播放视频原始音轨
  - 支持静音开关
- **格式互转**：
  - 双通道 MP4 → SVGA（按帧提取并打包）
  - 双通道 MP4 → GIF（通过序列帧）
- **资源管理**：
  - 模块切换时自动清理 `<video>`、Canvas 等资源

---

### 3. Lottie 模块（进行中）

- **当前能力**：
  - 拖入 `.json` 文件自动切换到 Lottie 模块
  - 作为占位模块用于后续扩展
- **计划能力**（ROADMAP 中规划）：
  - 使用 `lottie-web` 渲染动画
  - 播放 / 暂停、进度控制、帧数显示
  - 导出为 GIF / MP4 / SVGA（长远规划）

---

### 4. 通用交互与 UI 设计

- **画布与视图控制**：
  - 鼠标滚轮缩放（约 20% ~ 500%）
  - 1:1 显示、一键居中显示
  - 支持拖拽画布查看大尺寸动画
- **背景样式**：
  - 默认浅色点阵背景
  - 支持透明棋盘格、纯色背景等模式
- **底部控制面板**：
  - 模块切换（SVGA / 双通道 MP4 / Lottie）
  - 文件信息展示（名称、尺寸、时长、帧率等）
  - 播放 / 静音 / 缩放 / 导出 / 转换等操作按钮
- **侧边功能面板**：
  - 素材图替换面板
  - SVGA → MP4 转换配置面板
  - 双通道 MP4 → SVGA 转换配置面板
  - 右侧面板互斥显示，点击同一按钮可开/关
- **主题与帮助**：
  - 顶部导航支持暗黑 / 亮色主题切换
  - 固定位置的 Help 按钮，悬浮展示使用说明

---

## 技术特点

- **架构**：
  - 纯前端实现，基于 Vue 2
  - 单页应用结构，核心逻辑集中在 `docs/assets/js/app.js`
- **核心依赖（通过 CDN 引入）**：
  - `svga-web`：SVGA 动画解析与播放
  - `gif.js`：GIF 编码（配合 `gif.worker.js` Web Worker）
  - `@ffmpeg/ffmpeg`（ffmpeg.wasm）：在浏览器中进行 MP4 编码
  - `lottie-web`：Lottie 动画渲染（模块进行中）
- **运行方式**：
  - 所有计算和文件处理均在浏览器本地完成，不上传到服务器
  - 适合对隐私与素材安全有要求的设计与开发场景

---

## 状态与规划概览

- **阶段1：基础预览功能** —— 已完成
- **阶段2：SVGA 高级功能（素材替换 / GIF 导出 / 转双通道 MP4）** —— 已完成
- **阶段3：双通道 MP4 与 Lottie 模块** —— 双通道 MP4 已完成，Lottie 模块进行中
- **阶段4：代码质量与结构优化** —— 已完成
- **阶段5：普通MP4模式与导出功能增强** —— 已完成
- **阶段6：代码模块化与广告系统** —— 已完成
- **阶段7：SVGA播放器重构与音频同步修复** —— 已完成
- **阶段8：沉浸模式** —— 已完成
- **阶段9：SVGA素材压缩与导出优化** —— 已完成
- **阶段10：变速编辑器（K帧时间轴）** —— 已完成
- **阶段11：代码模块化第二阶段** —— 已完成

详细路线图与技术细节见仓库中的 `ROADMAP.md`、`TECH-RESEARCH.md`。
